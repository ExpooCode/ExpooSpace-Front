<div class="bg-white p-4 rounded shadow-md">
  <h3 class="form-title text-xl font-semibold mb-4">
    {{ modoEdicion ? 'Editar Usuario' : 'Nuevo Usuario' }}
  </h3>

  <form (ngSubmit)="enviar()" #usuarioForm="ngForm">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

      <!-- Nombre -->
      <div class="mb-4">
        <label for="nombre">Nombre *</label>
        <input type="text" id="nombre" name="nombre"
               [(ngModel)]="usuario.nombre" required
               class="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Apellido -->
      <div class="mb-4">
        <label for="apellido">Apellido *</label>
        <input type="text" id="apellido" name="apellido"
               [(ngModel)]="usuario.apellido" required
               class="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Email -->
      <div class="mb-4">
        <label for="email">Correo electrónico *</label>
        <input type="email" id="email" name="email"
               [(ngModel)]="usuario.email" required
               class="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Teléfono -->
      <div class="mb-4">
        <label for="telefono">Teléfono</label>
        <input type="text" id="telefono" name="telefono"
               [(ngModel)]="usuario.telefono"
               class="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Rol -->
      <div class="mb-4">
        <label for="rol">Rol *</label>
        <select id="rol" name="rol"
                [(ngModel)]="usuario.rol" required
                class="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500">

          <option value="">Seleccione</option>
          <option value="ADMIN">Administrador</option>
          <option value="AFILIADO">Afiliado</option>
          <option value="VISITANTE">Visitante</option>
        </select>
      </div>

      <!-- Contraseña -->
      <div class="mb-4" *ngIf="!modoEdicion">
        <label for="password">Contraseña *</label>
        <input type="password" id="password" name="password"
               [(ngModel)]="usuario.password" required
               class="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500">
      </div>

      <!-- Usuario Activo -->
      <div class="mb-4">
        <label for="activo">Estado</label>
        <select id="activo" name="activo"
                [(ngModel)]="usuario.activo"
                class="w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500">
          <option [ngValue]="true">Activo</option>
          <option [ngValue]="false">Inactivo</option>
        </select>
      </div>

    </div>

    <!-- Botones -->
    <div class="flex justify-end space-x-2 mt-4">
      <button type="button"
              (click)="cancelar()"
              class="form-button button-error">
        Cancelar
      </button>

      <button type="submit"
              class="form-button button-success">
        {{ modoEdicion ? 'Actualizar' : 'Guardar' }}
      </button>
    </div>
  </form>
</div>
